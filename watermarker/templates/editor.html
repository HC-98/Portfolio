<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Watermark Editor - {{ filename }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/editor.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <div class="logo-small">üìÑ</div>
            <div class="header-title">
                <h1>PDF Watermark Editor</h1>
                <div class="filename">{{ filename }}</div>
            </div>
        </div>
        <div class="header-right">
            <a href="/" class="btn-header">
                <span>‚Üê</span>
                <span>New File</span>
            </a>
        </div>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <h2>
                <span>‚öôÔ∏è</span>
                <span>Watermark Settings</span>
            </h2>
            
            <div class="control-group">
                <label for="watermarkText">Watermark Text</label>
                <input type="text" id="watermarkText" value="Confidential" placeholder="Enter watermark text">
            </div>
            
            <div class="divider"></div>
            
            <div class="slider-group">
                <div class="slider-label">
                    <span>Font Size</span>
                    <span class="slider-value"><span id="fontSizeValue">60</span>px</span>
                </div>
                <input type="range" id="fontSize" min="20" max="150" value="60" step="5">
            </div>
            
            <div class="slider-group">
                <div class="slider-label">
                    <span>Opacity</span>
                    <span class="slider-value"><span id="opacityValue">25</span>%</span>
                </div>
                <input type="range" id="opacity" min="0" max="100" value="25" step="5">
            </div>
            
            <div class="slider-group">
                <div class="slider-label">
                    <span>Rotation</span>
                    <span class="slider-value"><span id="rotationValue">45</span>¬∞</span>
                </div>
                <input type="range" id="rotation" min="-90" max="90" value="45" step="5">
            </div>
            
            <div class="divider"></div>
            
            <div class="slider-group">
                <div class="slider-label">
                    <span>Horizontal Position</span>
                    <span class="slider-value"><span id="xOffsetValue">0</span>px</span>
                </div>
                <input type="range" id="xOffset" min="-300" max="300" value="0" step="10">
            </div>
            
            <div class="slider-group">
                <div class="slider-label">
                    <span>Vertical Position</span>
                    <span class="slider-value"><span id="yOffsetValue">0</span>px</span>
                </div>
                <input type="range" id="yOffset" min="-300" max="300" value="0" step="10">
            </div>
            
            <div class="divider"></div>
            
            <div class="button-group">
                <button class="btn btn-reset" onclick="resetSettings()">‚Ü∫ Reset</button>
            </div>
            
            <div class="button-group">
                <button class="btn btn-preview" onclick="updatePreview()">
                    <span>üîÑ</span>
                    <span>Update Preview</span>
                </button>
            </div>
            
            <div class="button-group">
                <button class="btn btn-download" onclick="downloadWatermarked()">
                    <span>‚¨á</span>
                    <span>Download PDF</span>
                </button>
            </div>
            
            <div class="info-box">
                üí° <strong>Quick Tip:</strong> Adjust the settings above and click "Update Preview" to see your changes. The watermark will be applied to <strong>all pages</strong> of your PDF document.
            </div>
        </div>
        
        <div class="viewer-container">
            <div class="pdf-viewer">
                <div class="viewer-header">
                    <span>üìÑ Original PDF</span>
                    <div class="page-controls">
                        <button class="page-btn" id="originalPrevBtn" onclick="changePage('original', -1)">‚óÑ</button>
                        <span class="page-info" id="originalPageInfo">Page 1 of 1</span>
                        <button class="page-btn" id="originalNextBtn" onclick="changePage('original', 1)">‚ñ∫</button>
                    </div>
                </div>
                <div class="viewer-content" id="originalViewer">
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Loading original document...</span>
                    </div>
                </div>
            </div>
            
            <div class="pdf-viewer">
                <div class="viewer-header">
                    <span>‚ú® Preview with Watermark</span>
                    <div class="page-controls">
                        <button class="page-btn" id="previewPrevBtn" onclick="changePage('preview', -1)">‚óÑ</button>
                        <span class="page-info" id="previewPageInfo">Page 1 of 1</span>
                        <button class="page-btn" id="previewNextBtn" onclick="changePage('preview', 1)">‚ñ∫</button>
                    </div>
                </div>
                <div class="viewer-content" id="previewViewer">
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Generating preview...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="toast" id="toast"></div>
    
    <script src="{{ url_for('static', filename='js/editor.js') }}"></script>
</body>
</html>
